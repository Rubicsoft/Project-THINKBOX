[gd_scene load_steps=34 format=3 uid="uid://cbj2k6ds1813r"]

[ext_resource type="Script" path="res://scripts/game_state.gd" id="1_1fcd3"]
[ext_resource type="Environment" uid="uid://db02yl6vga2e2" path="res://scenes/prototypes/clear_world_env.tres" id="1_7ihx3"]
[ext_resource type="PackedScene" uid="uid://dnh0hd3gy112" path="res://scenes/prototypes/platformer_test/platformer_test_map.tscn" id="1_a6e5d"]
[ext_resource type="Resource" uid="uid://cslvcweyejh3c" path="res://addons/SphynxMotionBlurToolkit/PreBlurProcessing/default_camera_movement_component.tres" id="2_1vt5s"]
[ext_resource type="PackedScene" uid="uid://cjon57h655mw0" path="res://prefabs/player.tscn" id="2_08vw4"]
[ext_resource type="Resource" uid="uid://iru8ynu04i00" path="res://addons/SphynxMotionBlurToolkit/PreBlurProcessing/default_camera_rotation_component.tres" id="3_me1pg"]
[ext_resource type="PackedScene" uid="uid://ccqhi340y01gb" path="res://ui/pause_menu.tscn" id="3_yxuk2"]
[ext_resource type="Resource" uid="uid://rp3mpjmisoyh" path="res://addons/SphynxMotionBlurToolkit/PreBlurProcessing/default_object_movement_component.tres" id="4_1l7eu"]
[ext_resource type="Resource" uid="uid://c8ulad7utgrg7" path="res://addons/SphynxMotionBlurToolkit/PreBlurProcessing/pre_blur_processing_stage.tres" id="5_50vxe"]
[ext_resource type="PackedScene" uid="uid://bvgmobu7ugwh" path="res://prefabs/fall_killzone.tscn" id="6_8gg48"]
[ext_resource type="Script" path="res://addons/SphynxMotionBlurToolkit/PreBlurProcessing/pre_blur_processor.gd" id="6_mnpuf"]
[ext_resource type="AudioStream" uid="uid://c15xdynkprgty" path="res://assets/bgm/bgm_01.ogg" id="6_ra1nd"]
[ext_resource type="FontFile" uid="uid://um0wlrewdfuu" path="res://assets/font/PlusJakartaSans-Regular.ttf" id="7_a06he"]
[ext_resource type="Resource" uid="uid://ca45noqewsyvp" path="res://addons/SphynxMotionBlurToolkit/Guertin/guertin_experimental_blur_stage.tres" id="7_pb6v7"]
[ext_resource type="Resource" uid="uid://cvb65hfs2lrxo" path="res://addons/SphynxMotionBlurToolkit/Guertin/guertin_neighbor_max_stage.tres" id="8_dnsjv"]
[ext_resource type="PackedScene" uid="uid://bpf8q8g1rtg1e" path="res://prefabs/object/door.tscn" id="8_homic"]
[ext_resource type="Resource" uid="uid://bidsfymvdyhek" path="res://addons/SphynxMotionBlurToolkit/Guertin/guertin_overlay_stage.tres" id="9_8tu1a"]
[ext_resource type="ArrayMesh" uid="uid://cfxs83veluhb1" path="res://assets/model/suzanne_monkey.obj" id="9_tsjta"]
[ext_resource type="Script" path="res://addons/SphynxMotionBlurToolkit/Guertin/new_guertin_motion_blur.gd" id="10_1eh45"]
[ext_resource type="Material" uid="uid://dp7om65o7vcvh" path="res://materials/balls.tres" id="10_70wkj"]
[ext_resource type="Resource" uid="uid://dipvwksvqb3dm" path="res://addons/SphynxMotionBlurToolkit/Guertin/guertin_tile_max_x_stage.tres" id="11_uot1m"]
[ext_resource type="Resource" uid="uid://bxfg45ubc2pv7" path="res://addons/SphynxMotionBlurToolkit/Guertin/guertin_tile_max_y_stage.tres" id="12_j2yrk"]
[ext_resource type="Resource" uid="uid://bqehecsdgt70s" path="res://addons/SphynxMotionBlurToolkit/Guertin/guertin_tile_variance_stage.tres" id="13_x16mg"]
[ext_resource type="Script" path="res://addons/SphynxMotionBlurToolkit/BaseClasses/mb_compositor.gd" id="14_skvpd"]
[ext_resource type="PackedScene" uid="uid://dowskkpbxp3w" path="res://prefabs/object/interactables/book.tscn" id="23_dye86"]
[ext_resource type="PackedScene" uid="uid://0t3722jkicgt" path="res://prefabs/object/interactables/keys/square_key.tscn" id="25_ktke5"]

[sub_resource type="CompositorEffect" id="CompositorEffect_46y18"]
resource_local_to_scene = false
resource_name = ""
enabled = true
effect_callback_type = 4
needs_motion_vectors = false
needs_normal_roughness = false
script = ExtResource("6_mnpuf")
pre_blur_processor_stage = ExtResource("5_50vxe")
camera_rotation_component = ExtResource("3_me1pg")
camera_movement_component = ExtResource("2_1vt5s")
object_movement_component = ExtResource("4_1l7eu")
debug = false

[sub_resource type="CompositorEffect" id="CompositorEffect_c566x"]
resource_local_to_scene = false
resource_name = ""
enabled = true
effect_callback_type = 4
needs_motion_vectors = false
needs_normal_roughness = false
script = ExtResource("10_1eh45")
blur_stage = ExtResource("7_pb6v7")
overlay_stage = ExtResource("9_8tu1a")
tile_max_x_stage = ExtResource("11_uot1m")
tile_max_y_stage = ExtResource("12_j2yrk")
neighbor_max_stage = ExtResource("8_dnsjv")
tile_variance_stage = ExtResource("13_x16mg")
tile_size = 40
linear_falloff_slope = 1.0
importance_bias = 40.0
maximum_jitter_value = 0.95
minimum_user_threshold = 1.5
debug = false

[sub_resource type="Compositor" id="Compositor_niakq"]
compositor_effects = Array[CompositorEffect]([SubResource("CompositorEffect_46y18"), SubResource("CompositorEffect_c566x")])
script = ExtResource("14_skvpd")
samples = 8
intensity = 0.5
center_fade = 0.0
framerate_independent = true
uncapped_independence = false
target_constant_framerate = 30.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qdb65"]
albedo_color = Color(0.71276, 0.71276, 0.71276, 1)
metallic = 0.66
roughness = 0.32

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ocr1p"]
points = PackedVector3Array(-0.000133812, 0.492092, -0.0390938, -0.000133812, 0.449213, -0.27349, -0.226705, 0.464823, -0.0351761, -0.160192, 0.378873, 0.367099, -0.000133812, 0.449213, 0.144455, 0.160058, 0.378873, 0.367099, 0.226437, 0.464823, -0.0351761, -0.000133812, 0.281168, -0.425781, -0.625111, 0.234339, -0.27349, -0.226705, 0.433507, -0.191468, 0.226437, 0.433507, -0.191468, 0.624977, 0.234339, -0.27349, -0.617215, 0.253899, -0.210973, -0.226705, 0.425702, 0.117115, -0.429722, 0.214778, 0.29683, -0.156311, 0.320288, 0.417946, 0.156177, 0.320288, 0.417946, 0.429588, 0.214778, 0.29683, 0.226437, 0.425702, 0.117115, 0.617081, 0.253899, -0.210973, -0.000133812, 0.0350737, -0.414111, -0.656293, 0.0272689, -0.265655, 0.656159, 0.0272689, -0.265655, -0.683594, 0.148389, -0.250067, 0.683594, 0.148389, -0.250067, -0.675832, 0.160048, -0.210973, -0.640769, 0.0272689, -0.214891, -0.183612, -0.445359, 0.265571, -0.132891, -0.410189, 0.332006, -0.343804, 0.206973, 0.363264, -0.17585, 0.121024, 0.414028, -0.101575, 0.308533, 0.425781, 0.101442, 0.308533, 0.425781, 0.175716, 0.121024, 0.414028, 0.343671, 0.206973, 0.363264, 0.132757, -0.410189, 0.332006, 0.183478, -0.445359, 0.265571, 0.640501, 0.0272689, -0.214891, 0.675698, 0.160048, -0.210973, -0.000133812, -0.0977053, -0.336007, -0.519655, -0.0430713, -0.246149, -0.164073, -0.457114, 0.199137, -0.164073, -0.472724, 0.261654, 0.519387, -0.0430713, -0.246149, 0.163939, -0.472724, 0.261654, 0.163939, -0.457114, 0.199137, -0.117233, -0.457114, 0.316335, -0.0586167, -0.417994, 0.355429, -0.0547357, -0.113315, 0.414028, -0.22269, 0.0780486, 0.390605, 0.0546019, -0.113315, 0.414028, 0.222556, 0.0780486, 0.390605, 0.0584829, -0.417994, 0.355429, 0.1171, -0.457114, 0.316335, -0.000133812, -0.488334, 0.230395, -0.0899325, -0.484383, 0.277324, 0.0897987, -0.484383, 0.277324, -0.0821704, -0.464919, 0.316335, -0.0313157, -0.441505, 0.347593, -0.000133812, -0.382824, 0.367099, -0.0547357, -0.359409, 0.367099, 0.0546019, -0.359409, 0.367099, 0.031182, -0.441505, 0.347593, 0.0819028, -0.464919, 0.316335, -0.000133812, -0.492188, 0.288994, -0.000133812, -0.472724, 0.320253)

[sub_resource type="SphereMesh" id="SphereMesh_yuawa"]
radial_segments = 32
rings = 16

[sub_resource type="SphereShape3D" id="SphereShape3D_2qpiy"]

[node name="PlatformerTest" type="Node3D"]
script = ExtResource("1_1fcd3")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_7ihx3")
compositor = SubResource("Compositor_niakq")

[node name="SunLight" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.707107, 0.353553, -0.612372, 0, 0.866025, 0.5, 0.707107, -0.353553, 0.612372, 0, 6, 0)
shadow_enabled = true

[node name="PlatformerTest_Map" parent="." instance=ExtResource("1_a6e5d")]

[node name="Doors" type="Node3D" parent="."]

[node name="Door_1" parent="Doors" instance=ExtResource("8_homic")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.396378, 1.51, -2.62846)

[node name="Door_2" parent="Doors" instance=ExtResource("8_homic")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -4.396, 13.51, -41)

[node name="Door_3" parent="Doors" instance=ExtResource("8_homic")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -35.3964, -9.49, 6.37154)

[node name="Player" parent="." instance=ExtResource("2_08vw4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1, 7)

[node name="PauseMenu" parent="." instance=ExtResource("3_yxuk2")]

[node name="BGM" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("6_ra1nd")
autoplay = true
bus = &"BGM"

[node name="FallKillzone" parent="." instance=ExtResource("6_8gg48")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -25, 0)

[node name="Label3D" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 4)
billboard = 1
no_depth_test = true
text = "Welcome to Platformer test level"
font = ExtResource("7_a06he")
outline_size = 0

[node name="Suzanne" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.795674, 0.605725, 0, -0.605725, 0.795674, 2, 0.523242, -2)
mesh = ExtResource("9_tsjta")
surface_material_override/0 = SubResource("StandardMaterial3D_qdb65")

[node name="StaticBody3D" type="StaticBody3D" parent="Suzanne"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Suzanne/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_ocr1p")

[node name="Label3D2" type="Label3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 1, -2)
billboard = 1
no_depth_test = true
text = "Climbable Platform"
font = ExtResource("7_a06he")
outline_size = 0

[node name="AmbaBalls" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 3)

[node name="Ball1" type="RigidBody3D" parent="AmbaBalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0.112309)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls/Ball1"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls/Ball1"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="Ball2" type="RigidBody3D" parent="AmbaBalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.662797, 2.79849, 0.112309)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls/Ball2"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls/Ball2"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="Ball3" type="RigidBody3D" parent="AmbaBalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.668015, 2.74108, -0.127539)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls/Ball3"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls/Ball3"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="Ball4" type="RigidBody3D" parent="AmbaBalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.887209, 1.47811, 0.618409)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls/Ball4"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls/Ball4"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="AmbaBalls2" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 13, -41)

[node name="Ball1" type="RigidBody3D" parent="AmbaBalls2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0.112309)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls2/Ball1"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls2/Ball1"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="Ball2" type="RigidBody3D" parent="AmbaBalls2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.662797, 2.79849, 0.112309)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls2/Ball2"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls2/Ball2"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="Ball3" type="RigidBody3D" parent="AmbaBalls2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.668015, 2.74108, -0.127539)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls2/Ball3"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls2/Ball3"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="Ball4" type="RigidBody3D" parent="AmbaBalls2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.887209, 1.47811, 0.618409)
mass = 5.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="AmbaBalls2/Ball4"]
mesh = SubResource("SphereMesh_yuawa")
surface_material_override/0 = ExtResource("10_70wkj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AmbaBalls2/Ball4"]
shape = SubResource("SphereShape3D_2qpiy")

[node name="Book" parent="." instance=ExtResource("23_dye86")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 1, 2)

[node name="Book2" parent="." instance=ExtResource("23_dye86")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, 2)
prompt_msg = "Amongus"

[node name="Keys" type="Node3D" parent="."]

[node name="SquareKey" parent="Keys" instance=ExtResource("25_ktke5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 4)

[node name="SquareKey2" parent="Keys" instance=ExtResource("25_ktke5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.23854, 1, 4)
prompt_msg = "Ambatukam"

[node name="SquareKey3" parent="Keys" instance=ExtResource("25_ktke5")]
transform = Transform3D(0.679672, 0, 0.733516, 0, 1, 0, -0.733516, 0, 0.679672, 2.08399, 1.15461, 4)
prompt_msg = "POP MIE"
